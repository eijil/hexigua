<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>*{margin:0;padding:0;}.container{overflow:hidden}</style>
    <script src="./js/index.js"></script>
    <style>
        .menu{position:fixed;right:0;top:0;background:rgba(0,0,0,.6);background:rgba(0,0,0,.2);padding:8px;}
        .menu span{display:block;font-size:12px;line-height:22px;padding:0 6px;color:#fff;margin-bottom:4px;background:rgba(0,0,0,.2);}
    </style>
</head>
<body>
    <div class="container" style="width:375px;height:667px;margin:auto;"></div>
    <!-- <div class="container" style="width:100vw;height:100vh;margin:auto;"></div> -->
    <div class="menu">
        <span data-name="init">init</span>
        <span data-name="restart">restart</span>
        <span data-name="mute">mute</span>
    </div>
</body>

</html>
<script>
    Array.prototype.forEach.call(document.querySelectorAll('.menu span'), (item, index) => {
        item.onclick = function(e){
            let name = e.target.getAttribute('data-name')
            
            switch(name) {
                case 'init': 
                    let parent = document.querySelector('.container')
                    
                    MyGame.init({
                        debug: false, // 设置为true 方便快速结束游戏
                        parent, // 画布宽高根据元素宽高来设置

                        // scale控制元素缩放
                        // 如果parent是固定宽高的方式 scale 可以设置为 parent.clientWidth / 750
                        // 以元素ui尺寸 750*1334为基准的
                        scale: parent.clientWidth / 750,
                        // 如果parent是全屏模式，考虑到不同设备下游戏的公平性 scale应该根据最大水果与屏幕的面积比例来计算 如下：
                        // scale: Math.sqrt(parent.clientWidth * parent.clientHeight * (408 * 408) / (750 * 1334))/ 408,

                        // backgroundColor: '#fff', 
                        // transparent: true,
                        cdn: '', // 'https://storage.360buyimg.com/web-static/hexigua',
                        event: {
                            onStart: function(){
                                console.log('开始游戏')
                            },
                            onProgress: function(v){
                                console.log('加载进度')
                            },
                            onComplete: function(res){
                                console.log('加载完成')
                            },
                            onGameOver: function(score){
                                console.log('游戏结束', score)
                            },
                            onMessage: function(res){
                                console.log(res.code, res.data)
                            },
                        }
                        
                    })
                    break
                case 'restart': // 重置游戏
                    MyGame.onRestart()
                    break
                case 'mute': // 静音
                    MyGame.setAudioMute(true)
                    break
                default:
                    console.log(name)
            }
        }
    })

    document.querySelector('.menu span[data-name="init"]').click()
    
  
</script>